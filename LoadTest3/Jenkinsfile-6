pipeline {
    agent none  // No global agent; define in each stage
    stages {
        stage('Parallel Execution') {
            parallel {
                stage('Run on Agent 1') {
                    agent { label 'agent-1' }
                    steps {
                        echo 'Running on Agent 1...'
                        // Add your build/test steps here
                    }
                }
                stage('Run on Agent 2') {
                    agent { label 'agent-2' }
                    steps {
                        echo 'Running on Agent 2...'
                        // Add your build/test steps here
						
						                 stages {
                             stage('verify k6') {
                              steps {
                               sh 'k6 version'
      }
    }
                             stage('run k6 test') {
                             steps {
                               sh 'k6 run LoadTest3/Execution/Execution.js'
                    }
                }
            }
        }
    }
}
